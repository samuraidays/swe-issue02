<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>課題</title>
  <meta name="description" content="ページの解説" />
</head>

<body>
  <header class="header">
  <!-- /.header --></header>

  <h2>FizzBuzz問題</h2>
    <form action="" method="post" id="form1">
      <label>FizzNum</label>
      <input id="fizznum" type="number" name="FizzNum"><br>
      <label>BuzzNum</label>
      <input id="buzznum" type="number" name="BuzzNum"><br>
      <input type="button" name="exec" value=実行 onclick="javascript:submitForm(); return false;" />
      <!-- <button type="submit">実行</button> -->
    </form>
    <div id="div1">【出力】</div>
</body>

<script>
  var form1 = document.getElementById('form1');

  function submitForm() {
    const fizznum = document.forms['form1'].elements['FizzNum'].value;
    if (isNumber(fizznum) != true){
      try {
        var div = document.createElement('div');
        div.textContent = '数値ではないです'; 
        document.body.appendChild( div );

      } catch(e) {
        console.log(e.message);
      }
    }

    const buzznum = document.forms['form1'].elements['BuzzNum'].value;
    if (isNumber(buzznum) != true){
      try {
        const div = document.createElement('div');
        div.textContent = '数値ではないです'; 
        document.body.appendChild( div );

      } catch(e) {
        console.log(e.message);
      }
    }

    const fragment = document.createDocumentFragment();

    for (let num = 1; num < 100; num++){
      if (num % fizznum === 0 && num % buzznum === 0){
        str="FizzBuzz";
        const newDiv = document.createElement("div");
        const newContent = document.createTextNode(str + " " + num);
        newDiv.appendChild(newContent);
        fragment.appendChild(newDiv);

      } else if (num % fizznum === 0) {
        str="Fizz";
        const newDiv = document.createElement("div");
        const newContent = document.createTextNode(str + " " + num);
        newDiv.appendChild(newContent);
        fragment.appendChild(newDiv);

      } else if (num % buzznum === 0) {
        str="Buzz";
        const newDiv = document.createElement("div");
        const newContent = document.createTextNode(str + " " + num);
        newDiv.appendChild(newContent);
        fragment.appendChild(newDiv);

      }
    }
    document.getElementById('div1').appendChild(fragment);
  }

  function isNumber(numVal){
    const pattern = /^([1-9]\d*|0)$/;
    return pattern.test(numVal);
  }
</script>

</html>